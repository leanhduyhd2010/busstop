<!--
  Generated template for the BusesPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-buttons right>
      <button ion-button (click)="refreshPage()">
        <ion-icon name="refresh"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title>{{station.name}}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>

  <!-- old 
  <ion-list>

    <ion-item *ngFor="let bus of buses">
        
      <ion-icon style="float: right;" name="bus" (click)="busPassed(bus)"></ion-icon>
        
        
      <p>{{bus.number}} - {{bus.direction}}
        <span *ngIf="bus.active==1">
          <img src="assets/imgs/broadcast.gif" style="width:7%;margin-left:5px">
        </span>
      </p>
    </ion-item>
  </ion-list>
  -->


  <ion-card>
    <img src="assets/imgs/atac.jpg" />
    <ion-card-content>
      <ion-card-title class="station">
        {{station.name}}
      </ion-card-title>
      <p>Address here</p>
    </ion-card-content>
    <button ion-button block (click)="toAddBusPage()">
      ADD A LINE
    </button>
  </ion-card>

  <ion-card *ngFor="let line of lines">
    <ion-card-content>
      <ion-card-title>
        {{line.number}} - {{line.direction}}
          <img *ngIf="line.time != 'None'" src="assets/imgs/broadcast.gif" style="width:7%;display:inline">
      </ion-card-title>
    </ion-card-content>

    <ion-row no-padding>
      <ion-col>
        <button ion-button clear small icon-start (click)="addStationInLine(line)">
          <ion-icon name="add"></ion-icon>
          ADD STOPS
        </button>
      </ion-col>

      <ion-col text-center *ngIf="line.time == 'None'" (click)="setBusPassed(line)">
        <button ion-button clear small>
          I SEE IT!
        </button>
      </ion-col>

      <ion-col text-center *ngIf="line.time != 'None'" (click)="cancelPassed(line)">
        <button ion-button clear small color="danger">
          {{line.time}}
        </button>
      </ion-col>

      <ion-col text-right>
        <button ion-button clear small color="danger" icon-start>
          <ion-icon name="warning"></ion-icon>
          REPORT
        </button>
      </ion-col>

    </ion-row>
  </ion-card>

</ion-content>
